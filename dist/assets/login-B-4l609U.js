import{q as L,r as o,a as d,d as a,ad as Y,y as M,$ as U,ae as q,t as h,af as F,H as B,F as S,l as z,J as K,b as g,m as r,_ as O}from"./index-BYAniiKb.js";const Z="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJoAAAAgCAYAAADqrmEEAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAYFSURBVHgB5Zz/VeM4EMe/uXf/L1fBiQouVHCmgl0q2FAB2QowFRAqIFTAUkG8FQAVxFfBchXMaiIZhGJbI/nH7saf9/QCjqSRpfFoNJIzI6JHAEdo5mY2m63QAS1joT9uA9lOtJwnyOrjNs9bsjzpuk6c/Jf6405fKzEyWnamP4607K+R5XhMPuuUwdyrsl+VNj3rtJb2mVOv0h+blixH2NeHFy+x7K1O38TyKcwGHdF15AI5WUR9IbZe/rW9fomRYEXR6drKzSPKZdznJGer0+fI+vtkK5H/B6ZFbjtGYUDIPDRsdZcRZXaKCWNtMshROq3HuK8u8qemaIzSiTuld+vmKYuKKMd5oxSzBsV16Lq61NEFZeXXujRTVLSKXq1bihWz5RQiFbMF9q2uaUQXoUb+pq5Pp6xojEJH65ZqxWxZhf6UzCWnCL+tZ1jZ7v2LU1e0iiTrlmrFHHglrjAMq5/kszFzfwo/VEV7QTwKQuvWxYo5dSwQ5/THwpYlFFIaknf9+CcOkxRFq8itEpzWxd2sFevDEsVM13w/VbyKFWguLMehjHlsrM1SNFxXkN07P4yZll3wP4eqaF1RMNbtrAq0kgmgsoJ9QkessipBVlawpW7DnVde6Y8cJqAbgtsbq2gPWmbjfWr5/B1bdIV2uH0F/3GoU6cf2Y7taB7gL140f4F0JfPlLxCmhNktufO/YEur00L/eROuBimLgu9tX9p+OUOY1/6ahKLZLbRzmMELUcAM8Mr6YqquTiElzBTsbz/9IyibC7bMcoTdBGWtca/Y6bgIZDuqZE9m1ak7Zq0/TnW6a8jCA7bQ+Xa+me6gC5j9vAxpsLU5qXwUD4UwD6EMum5u8x3CKAzDN0GeaSka40w5vnVji3PM05S1YhwHYivYxYotrSLUEaq3bCnrI3EL/sYwSCzzjkkuBti6aWUqYOJfhePws0/BDn/qVMNWLI9QkrH4Cz1jXQqJz7rri8muOq3/swsq9rCiLHU6b5gmf0daHzQnxBPiqXroJh/eOGAr1oVPul945Vl3TwpyXn24ySpa31bMBnk/6P8lIYffgboDkLGsqj9+pcXAB/RH2faltWK8okxVstcVJfsqZA6HstKufuK5sF+NKzc8M5ailYI8x4I86DKIzoqSU+zTyvlLOCtKGwLhTfXMyacQ3jMtEZAVEfuaC/KUGBdeNefuBYmi/Y/ulII8F5AhiXQ/+xecuFiqFeNpwLdibSGQthMhJdrhOj9ChiSfJATSFyVMvPI9FKbzCQBrSb4LZF0H6pmTjI9euQWl49d1QbJ7ccm8OiTvULAMFeiPa0E9j16Zvt8Z8Klts8SiKXTErsgKQdalbugteceBySgqT0WPkOFHrDOkwX7Gg9OODGmB3Mz7v0CY6rTqngUnY1F5+l8K6gnuMPRI0bRtNmMVhKACxHHj7+/ZQYp5o6q0SSFO2fkVtHNP9hpxm8s81ZzXHa8hs7q8jGzTle+zkJl6M8gobZterNwMco7dwReOAz+oC7wdSZLeL7fvpFbZaDjmNbI2NDyqRu46onyOAGQsSqc6afgpjFklyr3tMHa1s86Qq8572h90tjRDBjavZukvCbPFOPEtTx0te6ZibPztK4ajhBPH6gHp2LEfvedrD6loCt5LClYJrjAMTxIlaYAVVPymfIXgREiIZEUVcNbhodsjcuzY187cC0PH0fa0254N61vZSsgO4vmIrVgTXaybXSSdon9lO5+lHd9uxY5dIcx+S24skMZhb3VEsiW+hA0FgptU70/l6Blq9t1yQbktdYdDIllAVpKP5rVVGt65dguORVbTaLZ4W0qDb1ayvPcVrfFt6r4gE7fbOjJzQRkO4awonQ0Jdk2oo6LZOpYkJ6sKjcWWGjqC9gemDVYwtobiWBa9KVqOkaD31i1PLCdhQ3E/kCMJegeD9DrPPcnY6nTEcbTQz1b1yYv7c1I1jc9gYkT/4u30APsxpU7/wazSnmKP5JCxfMUQfotA9gLmvqNWmGQeygwmjsUnWZXzdXVe/zn2DByZB/QR7XGxL7PAT5UJ66lY/QBbqSOQuuCRnQAAAABJRU5ErkJggg==",X="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAEOSURBVHgB7ZTNEYIwEEY34eKRErAD7QCoQCvQDtQCGJEOvHkTO9AKgJs3LQE7oAFm/BaQg5OA/Bx9M8tkAnnsbDYR1IDv+7ZhGHsMZwgTESNCz/MuujWG7kUQBHspZYihhZhU0zxeOI5DURQlqnVCI1sLIc7UzBKZXr8npepLyFbUzkY1KTUf29SO3UWYUU90wie1E3cRHqidUDWpbBu0ROq6LneATZofYoePPwsraYx+e2HHuaEtKut6R+wgO9GfD/XRw0Vg4iLgEzKjbsR5nt+wPquFlexBZfH7kEI6Z2nRh7hVNgNkjIVu2BYZwmohu2igkMmQ5RTJydUIMsbkLCUeaxoJLh3XMKHxuL4B0QdD2XzaOkYAAAAASUVORK5CYII=",P="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFJSURBVHgBtVTLUcMwEJXWFOAOMB1w5IgrIB0QKojvHo8cuwCGCggdpAObGzfSQXzk6Nz94W1iM8LYkXGSndnRarR6em+1khRHLAzDe8uyFMJbuA1P4csgCNKhPdbQQhRFiohWCB34V13XmZTyDvHcdd1dkiQfffvkADMHzLYIM/hTyyiO4xmGV2ZbluUN8rLuXuo9RUqvxdblIV6D6bLJmfft7QWE1GseweK9u1ZV1VrPGQUoDhcwyX7VEDWxcTLXaQFJfLMeJO66h2HtGWMKBS8YN3otpQbGF/E5gV0OEq7v+xue/EhuijxFql0UxaydkDiznR3wakROjlZ5259O9CgMZRkD6Cml9oB4KdyDybFko2S9ucEwN+UbAQGy0MAfTPlGyfyum0+BzTkZcCxQa5frQ0gzFnwQhGj7BxC9thKHL/6/luqd8A34MGrsqGCulwAAAABJRU5ErkJggg==",T="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAF+SURBVHgBjZTvdYIwFMVJZAA3qN2ATtA6ghNgJ6jfOSB/Dt91AnSCthPUEdigbFAWAHqvJm2IgL5zOMlLXn6++/KicCYsjuOFlPKl67oFfYwlhgrrpY7JsqzgGIbhK0d3ADIH5E0IsYZ7BmFuhhC4xFcpGOMSvdmLzPPca9v2XYNMiJ40TXMFQ3bxFRABPoaDBUoA2AFQm4s2jKp0jNSZ2TDIflK/7KVpuhmD8exsNvtWjAtQyexlFgRBCdAWwQX2P8Zg2PuCPyeDmQocWqPohUmDzEfWkbCpmmHthzB9DtBEAra1suMtVoA93LoAWG2VyXfRW7XVFmfDweOEzGfM92Z2f1B8R2fExmqGzD/Z9APAWEZRtHP++6yizCkY/L0qSWzBKqqSSvuKz2qqZthjW6zoq571DVitExG3ZPb0XN42n+XGhGFtyTaj495TMyOkVzOqwj6zrvSaGIOxSfkCnIGbhJ3wHXQnmGYCeTm1KVNBPf33Bams1cl+26b9Al+CIcD6pqnsAAAAAElFTkSuQmCC",D={class:"login-page"},N={class:"login-container"},j={class:"login-box"},H={class:"input-group"},G={key:0,class:"error-message"},W={class:"input-group"},J=["type"],_={key:1,class:"error-message"},$={class:"captcha-container"},ee={class:"captcha-input-group"},ae={key:0,class:"error-message"},te=["disabled"],se=L({__name:"login",setup(oe){const I=async s=>(await new Promise(e=>setTimeout(e,1e3)),s.account==="admin"&&s.password==="admin123"?{data:{ret:0,code:"200",msg:"登录成功",ret_data:{token:"mock-token-"+Date.now(),uid:"1",type:"admin",account:s.account,menu:[101,102,201,202,301,302,401,402,501,502,601,602,701,702,801,802,901,902]}}}:{data:{ret:1,code:"400",msg:"用户名或密码错误",ret_data:null}}),y=K(),i=o(""),p=o(""),v=o(!1),f=o(!1),Q=o(""),w=o([]),m=o(""),c=o(""),k=o({background:`linear-gradient(45deg, 
    hsl(${Math.floor(Math.random()*360)}, 30%, 90%), 
    hsl(${Math.floor(Math.random()*360)}, 30%, 85%))`,border:"1px solid #ddd",borderRadius:"4px",cursor:"pointer"}),x=s=>{const e=["20px","22px","24px","26px","28px"],t=["#2c3e50","#34495e","#7f8c8d","#2c3e50","#3498db","#e74c3c","#27ae60","#f39c12","#8e44ad","#c0392b"],l=["-15deg","-10deg","-5deg","0deg","5deg","10deg","15deg"],A=w.value[s],C=A&&A===A.toUpperCase()&&A!==A.toLowerCase()?"bold":"normal";return{fontSize:e[Math.floor(Math.random()*e.length)],color:t[Math.floor(Math.random()*t.length)],transform:`rotate(${l[Math.floor(Math.random()*l.length)]})`,display:"inline-block",fontWeight:C,padding:"0 2px"}},n=o(""),u=o(""),b=()=>{const s="ABCDEFGHJKLMNPQRSTUVWXYZ23456789";let e="";for(let t=0;t<5;t++)e+=s.charAt(Math.floor(Math.random()*s.length));Q.value=e,w.value=e.split(""),m.value="",c.value="",k.value.background=`linear-gradient(45deg, 
    hsl(${Math.floor(Math.random()*360)}, 30%, 90%), 
    hsl(${Math.floor(Math.random()*360)}, 30%, 85%))`};b();const R=async()=>{if(n.value="",u.value="",c.value="",!i.value||!p.value){i.value||(n.value="account is required",r.warning("Username is required")),p.value||(u.value="password is required",r.warning("Password is required"));return}if(!m.value){c.value="Captcha is required",r.warning("Please enter the captcha");return}if(m.value.toLowerCase()!==Q.value.toLowerCase()){c.value="Captcha is incorrect",r.warning("Captcha is incorrect, please try again"),b();return}try{v.value=!0,r.info("Logging in...");const s={account:i.value,password:p.value},e=await I(s);if(e.data.ret===0&&e.data.code==="200"){const{token:t,uid:l,type:A,menu:E,account:C}=e.data.ret_data||{};t&&localStorage.setItem("token",t);const V={uid:l||"",type:A||"",account:C||i.value,menu:E||[]};localStorage.setItem("userInfo",JSON.stringify(V)),localStorage.setItem("isAuthenticated","true"),r.success("Login successful"),y.push("/dashboard")}else switch(e.data.code){case"201":n.value="Account does not exist",r.error("Account does not exist");break;case"400":u.value="Incorrect password",r.error("Incorrect password");break;default:!n.value&&!u.value&&(n.value=e.data.msg||"Login failed",r.error(e.data.msg||"Login failed"))}}catch(s){console.error("Login error: ",s),n.value="Network error, please check your connection",r.error("Network error, please check your connection")}finally{v.value=!1}};return(s,e)=>(g(),d("div",D,[e[8]||(e[8]=a("div",{class:"background"},null,-1)),a("div",N,[a("div",j,[e[7]||(e[7]=a("div",{class:"logo"},[a("img",{src:Z,alt:"User Icon",class:"user-icon"}),a("div",{class:"portal-title"},"Admin Portal")],-1)),a("form",{class:"login-form",onSubmit:Y(R,["prevent"])},[a("div",H,[e[4]||(e[4]=a("img",{src:X,alt:"User Icon",class:"input-icon"},null,-1)),U(a("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>i.value=t),type:"text",class:"input-field",placeholder:"Username",required:""},null,512),[[q,i.value]])]),n.value?(g(),d("div",G,h(n.value),1)):M("",!0),a("div",W,[e[5]||(e[5]=a("img",{src:P,alt:"Password Icon",class:"input-icon"},null,-1)),U(a("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>p.value=t),type:f.value?"text":"password",class:"input-field",placeholder:"Password",required:""},null,8,J),[[F,p.value]]),a("div",{class:"toggle-password-wrapper",onClick:e[2]||(e[2]=t=>f.value=!f.value)},[a("img",{src:T,alt:"Toggle Password",class:"toggle-password-icon",style:B({transform:f.value?"scaleX(-1)":"none"})},null,4)])]),u.value?(g(),d("div",_,h(u.value),1)):M("",!0),a("div",$,[a("div",ee,[U(a("input",{"onUpdate:modelValue":e[3]||(e[3]=t=>m.value=t),type:"text",class:"input-field captcha-input",placeholder:"Enter Captcha",maxlength:"5"},null,512),[[q,m.value]]),a("div",{class:"captcha-display",onClick:b},[a("div",{class:"captcha-text",style:B(k.value)},[(g(!0),d(S,null,z(w.value,(t,l)=>(g(),d("span",{key:l,style:B(x(l)),class:"captcha-char"},h(t),5))),128))],4)])]),c.value?(g(),d("div",ae,h(c.value),1)):M("",!0),e[6]||(e[6]=a("div",{class:"captcha-hint"},"Click image to refresh",-1))]),a("button",{type:"submit",class:"login-btn",disabled:v.value},h(v.value?"Loading...":"Login"),9,te)],32)])])]))}}),ne=O(se,[["__scopeId","data-v-dfe61991"]]);export{ne as default};
